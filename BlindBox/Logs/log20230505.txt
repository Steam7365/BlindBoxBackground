2023-05-05 09:56:57.215 +08:00 [INF] User profile is available. Using 'C:\Users\Voe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-05 09:56:57.555 +08:00 [INF] Now listening on: https://localhost:7178
2023-05-05 09:56:57.557 +08:00 [INF] Now listening on: http://localhost:5178
2023-05-05 09:56:57.562 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-05 09:56:57.564 +08:00 [INF] Hosting environment: Development
2023-05-05 09:56:57.567 +08:00 [INF] Content root path: D:\文件\项目\BlindBox\BlindBox\
2023-05-05 09:56:58.272 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/index.html - -
2023-05-05 09:56:58.802 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7178/_framework/aspnetcore-browser-refresh.js - -
2023-05-05 09:56:58.812 +08:00 [INF] Request finished HTTP/2 GET https://localhost:7178/_framework/aspnetcore-browser-refresh.js - - - 200 11974 application/javascript;+charset=utf-8 9.5612ms
2023-05-05 09:56:58.818 +08:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/index.html - - - 200 - text/html;charset=utf-8 549.9139ms
2023-05-05 09:56:58.935 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - -
2023-05-05 09:56:59.038 +08:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 103.2063ms
2023-05-05 09:57:02.235 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7178/api/Staffs/Index - -
2023-05-05 09:57:02.244 +08:00 [INF] Executing endpoint 'BlindBox.Controllers.StaffsController.Index (BlindBox)'
2023-05-05 09:57:02.260 +08:00 [INF] Route matched with {action = "Index", controller = "Staffs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller BlindBox.Controllers.StaffsController (BlindBox).
2023-05-05 09:57:03.652 +08:00 [INF] Entity Framework Core 6.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: MigrationsAssembly=BlindBox.EF 
2023-05-05 09:57:03.690 +08:00 [INF] {Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} 获取全部的Staff数据：成功
2023-05-05 09:57:04.789 +08:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffId], [s].[StaffName], [s].[StaffWages], [s].[StaffGender], [s].[StaffPhone], [s].[StaffCode], [s].[StaffEntryTime], [s].[StaffPosition], [s].[StaffState], [s].[Image], [s].[Province], [s].[City], [s].[Area], [s].[Details]
FROM [ro].[staff] AS [s]
WHERE [s].[IsDelete] = CAST(0 AS bit)
2023-05-05 09:57:04.853 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BilndBox.Dto.StaffDto, BilndBox.Dto, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-05 09:57:04.873 +08:00 [INF] Executed action BlindBox.Controllers.StaffsController.Index (BlindBox) in 2604.8375ms
2023-05-05 09:57:04.877 +08:00 [INF] Executed endpoint 'BlindBox.Controllers.StaffsController.Index (BlindBox)'
2023-05-05 09:57:04.887 +08:00 [INF] Request finished HTTP/2 GET https://localhost:7178/api/Staffs/Index - - - 200 - application/json;+charset=utf-8 2652.6504ms
2023-05-05 11:15:39.567 +08:00 [INF] User profile is available. Using 'C:\Users\Voe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-05 11:15:39.774 +08:00 [INF] Now listening on: https://localhost:7178
2023-05-05 11:15:39.776 +08:00 [INF] Now listening on: http://localhost:5178
2023-05-05 11:15:39.780 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-05 11:15:39.782 +08:00 [INF] Hosting environment: Development
2023-05-05 11:15:39.784 +08:00 [INF] Content root path: D:\文件\项目\BlindBox\BlindBox\
2023-05-05 11:15:40.624 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/index.html - -
2023-05-05 11:15:41.106 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7178/_framework/aspnetcore-browser-refresh.js - -
2023-05-05 11:15:41.122 +08:00 [INF] Request finished HTTP/2 GET https://localhost:7178/_framework/aspnetcore-browser-refresh.js - - - 200 11974 application/javascript;+charset=utf-8 14.2230ms
2023-05-05 11:15:41.122 +08:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/index.html - - - 200 - text/html;charset=utf-8 501.5490ms
2023-05-05 11:15:41.243 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - -
2023-05-05 11:15:41.356 +08:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 113.1846ms
2023-05-05 14:25:25.996 +08:00 [INF] User profile is available. Using 'C:\Users\Voe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-05 14:28:21.519 +08:00 [INF] User profile is available. Using 'C:\Users\Voe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-05 14:28:21.815 +08:00 [INF] Now listening on: https://localhost:7178
2023-05-05 14:28:21.818 +08:00 [INF] Now listening on: http://localhost:5178
2023-05-05 14:28:21.825 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-05 14:28:21.827 +08:00 [INF] Hosting environment: Development
2023-05-05 14:28:21.829 +08:00 [INF] Content root path: D:\文件\项目\BlindBox\BlindBox\
2023-05-05 14:28:22.688 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/index.html - -
2023-05-05 14:28:23.065 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7178/_framework/aspnetcore-browser-refresh.js - -
2023-05-05 14:28:23.073 +08:00 [INF] Request finished HTTP/2 GET https://localhost:7178/_framework/aspnetcore-browser-refresh.js - - - 200 11974 application/javascript;+charset=utf-8 6.4122ms
2023-05-05 14:28:23.076 +08:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/index.html - - - 200 - text/html;charset=utf-8 391.2572ms
2023-05-05 14:28:23.156 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - -
2023-05-05 14:28:23.257 +08:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 101.2373ms
2023-05-05 14:28:27.366 +08:00 [INF] Request starting HTTP/2 POST https://localhost:7178/api/Staffs/UploadImage - 0
2023-05-05 14:28:27.375 +08:00 [INF] Executing endpoint 'BlindBox.Controllers.StaffsController.UploadImage (BlindBox)'
2023-05-05 14:28:27.390 +08:00 [INF] Route matched with {action = "UploadImage", controller = "Staffs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage() on controller BlindBox.Controllers.StaffsController (BlindBox).
2023-05-05 14:28:27.807 +08:00 [INF] Executed action BlindBox.Controllers.StaffsController.UploadImage (BlindBox) in 409.6022ms
2023-05-05 14:28:27.814 +08:00 [INF] Executed endpoint 'BlindBox.Controllers.StaffsController.UploadImage (BlindBox)'
2023-05-05 14:28:27.819 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Incorrect Content-Type: 
   at Microsoft.AspNetCore.Http.Features.FormFeature.ReadForm()
   at Microsoft.AspNetCore.Http.DefaultHttpRequest.get_Form()
   at BlindBox.Controllers.StaffsController.UploadImage() in D:\文件\项目\BlindBox\BlindBox\Controllers\StaffsController.cs:line 66
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-05 14:28:27.890 +08:00 [INF] Request finished HTTP/2 POST https://localhost:7178/api/Staffs/UploadImage - 0 - 500 - text/plain;+charset=utf-8 524.1464ms
2023-05-05 14:53:32.536 +08:00 [INF] User profile is available. Using 'C:\Users\Voe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-05 14:53:32.795 +08:00 [INF] Now listening on: https://localhost:7178
2023-05-05 14:53:32.797 +08:00 [INF] Now listening on: http://localhost:5178
2023-05-05 14:53:32.802 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-05 14:53:32.804 +08:00 [INF] Hosting environment: Development
2023-05-05 14:53:32.806 +08:00 [INF] Content root path: D:\文件\项目\BlindBox\BlindBox\
2023-05-05 14:53:33.528 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/index.html - -
2023-05-05 14:53:33.948 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7178/_framework/aspnetcore-browser-refresh.js - -
2023-05-05 14:53:33.960 +08:00 [INF] Request finished HTTP/2 GET https://localhost:7178/_framework/aspnetcore-browser-refresh.js - - - 200 11974 application/javascript;+charset=utf-8 10.5147ms
2023-05-05 14:53:33.964 +08:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/index.html - - - 200 - text/html;charset=utf-8 439.3025ms
2023-05-05 14:53:34.050 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - -
2023-05-05 14:53:34.153 +08:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 102.6376ms
2023-05-05 14:53:37.273 +08:00 [INF] Request starting HTTP/2 GET https://localhost:7178/api/Staffs/Index - -
2023-05-05 14:53:37.282 +08:00 [INF] Executing endpoint 'BlindBox.Controllers.StaffsController.Index (BlindBox)'
2023-05-05 14:53:37.298 +08:00 [INF] Route matched with {action = "Index", controller = "Staffs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller BlindBox.Controllers.StaffsController (BlindBox).
2023-05-05 14:53:38.702 +08:00 [INF] Entity Framework Core 6.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: MigrationsAssembly=BlindBox.EF 
2023-05-05 14:53:38.739 +08:00 [INF] 获取全部的Staff数据：成功
2023-05-05 14:53:39.799 +08:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StaffId], [s].[StaffName], [s].[StaffWages], [s].[StaffGender], [s].[StaffPhone], [s].[StaffCode], [s].[StaffEntryTime], [s].[StaffPosition], [s].[StaffState], [s].[Image], [s].[Province], [s].[City], [s].[Area], [s].[Details]
FROM [ro].[staff] AS [s]
WHERE [s].[IsDelete] = CAST(0 AS bit)
2023-05-05 14:53:39.862 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BilndBox.Dto.StaffDto, BilndBox.Dto, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-05 14:53:39.881 +08:00 [INF] Executed action BlindBox.Controllers.StaffsController.Index (BlindBox) in 2574.6446ms
2023-05-05 14:53:39.885 +08:00 [INF] Executed endpoint 'BlindBox.Controllers.StaffsController.Index (BlindBox)'
2023-05-05 14:53:39.897 +08:00 [INF] Request finished HTTP/2 GET https://localhost:7178/api/Staffs/Index - - - 200 - application/json;+charset=utf-8 2623.6267ms
